<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>彰化真食記 v9.0 - 免費動態版</title>
  <link rel="manifest" href="data:application/manifest+json,{
    \"name\":\"彰化真食記\",\"short_name\":\"彰化食記\",
    \"start\":".","display":"standalone",
    \"background_color":"#fafafa","theme_color":"#d4380d"
  }>)">
  <style>
    body{font-family:system-ui;margin:0;padding:10px;background:#fafafa}
    .header{background:linear-gradient(135deg,#d4380d,#a21c00);...} /* 省略樣式 */
  </style>
</head>
<body>
  <div class="header"><h1>彰化真食記 v9.0</h1><p>免費動態更新｜GitHub 驅動</p></div>
  <div class="controls">
    <button class="btn" onclick="switchCategory('rouyuan')">肉圓</button>
    <a href="https://github.com/HPL1130/changhua-food-data" target="_blank" style="margin-left:auto;color:#d4380d;font-size:0.9rem;">
      編輯資料
    </a>
  </div>
  <ul id="list"></ul>

  <script>
    const DATA_URL = 'https://raw.githubusercontent.com/HPL1130/changhua-food-data/main/data.json';
    let data = [], filteredData = [], currentCategory = 'kongroufan';

    // 內建備用資料（離線用）
    const fallbackData = [ /* 你的 95 筆資料，貼在這裡 */ ];

    async function loadData() {
      try {
        const res = await fetch(DATA_URL + '?t=' + Date.now());
        if (res.ok) data = await res.json();
        else throw '';
      } catch { data = fallbackData; }
      init();
    }

    function init() {
      // 你的 render、filter 邏輯...
      renderList();
    }

    function renderList() {
      const list = document.getElementById('list');
      list.innerHTML = '';
      const items = data.filter(i => i.category === currentCategory);
      items.forEach(item => {
        list.innerHTML += `<li class="item"><h3>${item.name}</h3><p>${item.address}</p></li>`;
      });
    }

    loadData(); // 啟動
  </script>
</body>
</html>
