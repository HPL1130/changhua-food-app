<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>å½°åŒ–ç¾é£Ÿä¸‰å¯¶æŒ‡å—</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-96.png">

    <style>
        body {
            margin:0;
            font-family:"Noto Sans TC", sans-serif;
            background:#f7f7f7;
        }

        header {
            background:#17a26b;
            padding:20px;
            text-align:center;
            color:white;
            font-size:24px;
            font-weight:700;
        }

        .category-buttons, .district-select-box {
            margin:20px 15px;
        }

        .category-buttons {
            display:flex;
            justify-content:space-around;
        }

        .category-buttons button {
            flex:1;
            margin:0 5px;
            padding:15px 0;
            font-size:18px;
            border:none;
            border-radius:10px;
            background:white;
            font-weight:600;
            box-shadow:0 3px 6px rgba(0,0,0,0.15);
        }

        .category-buttons button.active {
            background:#17a26b;
            color:white;
        }

        select {
            width:100%;
            padding:12px;
            font-size:17px;
            border-radius:10px;
            border:1px solid #ccc;
        }

        #list {
            padding:15px;
        }

        .card {
            background:white;
            padding:15px;
            border-radius:12px;
            margin-bottom:15px;
            box-shadow:0 2px 5px rgba(0,0,0,0.1);
        }

        .name {
            font-size:20px;
            font-weight:700;
            margin-bottom:6px;
        }

        .row {
            font-size:14px;
            margin:2px 0;
        }
    </style>
</head>

<body>
<header>å½°åŒ–ç¾é£Ÿä¸‰å¯¶æŒ‡å—</header>

<!-- ä¸‰å¤§ä¸»åˆ†é¡ -->
<div class="category-buttons">
    <button id="btn-sushi" onclick="selectCategory('sushi')">ç´ é£Ÿéºµ</button>
    <button id="btn-rouyuan" onclick="selectCategory('rouyuan')">è‚‰åœ“</button>
    <button id="btn-kongroufan" onclick="selectCategory('kongroufan')">çˆŒè‚‰é£¯</button>
</div>

<!-- åœ°å€ç¯©é¸ -->
<div class="district-select-box">
    <select id="districtSelect" onchange="render()">
        <option value="å…¨éƒ¨">å…¨éƒ¨åœ°å€</option>
        <option value="å½°åŒ–å¸‚">å½°åŒ–å¸‚</option>
        <option value="å“¡æ—å¸‚">å“¡æ—å¸‚</option>
        <option value="é¹¿æ¸¯é®">é¹¿æ¸¯é®</option>
        <option value="æºªæ¹–é®">æºªæ¹–é®</option>
        <option value="å’Œç¾é®">å’Œç¾é®</option>
        <option value="èŠ±å£‡é„‰">èŠ±å£‡é„‰</option>
        <option value="å¤§æ‘é„‰">å¤§æ‘é„‰</option>
        <option value="èŠ¬åœ’é„‰">èŠ¬åœ’é„‰</option>
        <option value="æ°¸é–é„‰">æ°¸é–é„‰</option>
    </select>
</div>

<div id="list"></div>

<script src="data.js"></script>

<script>
let currentCategory = "sushi";

function selectCategory(cat){
    currentCategory = cat;
    document.querySelectorAll(".category-buttons button")
        .forEach(btn => btn.classList.remove("active"));
    document.getElementById("btn-"+cat).classList.add("active");
    render();
}

function render(){
    const region = document.getElementById("districtSelect").value;
    const root = document.getElementById("list");
    root.innerHTML = "";

    let filtered = DATA.filter(i => i.category === currentCategory);

    if(region !== "å…¨éƒ¨"){
        filtered = filtered.filter(i => i.district === region);
    }

    filtered.sort((a,b) => b.google - a.google);

    filtered.forEach(item=>{
        const div = document.createElement("div");
        div.className="card";
        div.innerHTML = `
            <div class="name">${item.name}</div>
            <div class="row">ğŸ“ ${item.address}</div>
            <div class="row">â­ Googleï¼š${item.google}</div>
            <div class="row">ğŸœ ç‰¹è‰²ï¼š${item.feature}</div>
            <div class="row">ğŸ¥£ æ‹›ç‰Œï¼š${item.dish}</div>
            <div class="row">â° æ™‚é–“ï¼š${item.time}</div>
            <div class="row">ğŸ’² åƒ¹æ ¼ï¼š${item.price}</div>
        `;
        root.appendChild(div);
    });
}

selectCategory("sushi");
</script>

</body>
</html>
